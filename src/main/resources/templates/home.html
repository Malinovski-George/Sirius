<!--<!DOCTYPE html>-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">


<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">


    <title>Home Page</title></head>
<body>
<!--///////////////////////////////////////////////////////////////////////////////////////////-->

<div class="container" name="Main container">

    <!--Main menu START-->
    <nav name="Main Menu" class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="/">BOOKI</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
                aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <!--hide when logged-->
                <li class="nav-item">
                    <a class="nav-link" href="registrationForm">Регистрация</a>
                </li>
                <!--hide when unlogged-->
                <li class="nav-item">
                    <a class="nav-link" href="/registrationForm">Добавить объявление</a>
                </li>


                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="https://example.com" id="dropdown01"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Выбрать город</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" href="#">Минск</a>
                        <a class="dropdown-item" href="#">Могилев</a>
                        <a class="dropdown-item" href="#">Витебск</a>
                        <a class="dropdown-item" href="#">Брест</a>
                        <a class="dropdown-item" href="#">Гродно</a>
                        <a class="dropdown-item" href="#">Гомель</a>
                    </div>
                </li>
            </ul>
            <!--
            search
            <form class="form-inline my-2 my-lg-0">
                 <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                 <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
             </form>-->

            <ul class="nav navbar-nav navbar-right">
                <!--hide when logged-->

                <li class="nav-item">
                    <a class="nav-link" href="/login">Вход</a>
                </li>
                <!--hide when unlogged-->
                <li>
                    <a class="nav-link" th:href="@{/logout}">Logout</a>
                </li>
            </ul>


        </div>
    </nav>
    <!--Main menu END-->


    <h1>Hello !</h1>

    <!--<div  class="(${rowStat.count} + 1) % 3 == 0?'card-deck'">-->
            <!--<div class="card-columns">-->
                <th:block th:each="flat, rowStat : ${flats}">
                    <!--<div th:each="data, row: ${flats}" th:with="numList=${#strings.listSplit('2,1,0', ',')}" th:if="${row.current} % 3 == 0" class="card-deck">-->
                    <!--<span th:each="num : ${numList}" th:with="dataIndex=(${row.index} - ${num})" th:text="${flats[dataIndex]}">data</span>-->

                    <!--<div  th:if="(${rowStat.count} + 1) % 3 == 0" class="(${rowStat.count} + 1) % 3 == 0?'card-deck'">-->



                   <!-- <div class="card" style="width: 18rem;">
                        <img class="card-img-top"
                             src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22368%22%20height%3D%22160%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20368%20160%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_167db731965%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A18pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_167db731965%22%3E%3Crect%20width%3D%22368%22%20height%3D%22160%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22137.9609375%22%20y%3D%2288.1%22%3E368x160%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"


                          -->
                    <!--</div>-->
                    <section>
                        <div class="container py-3">
                            <div class="card">
                                <div class="row ">
                                    <div class="col-md-4">
                                        <!--TODO link to main image-->
                                        <!--<img src="https://placeholdit.imgix.net/~text?txtsize=38&txt=400%C3%97400&w=400&h=400" class="w-100">-->
                                        <img th:src="@{'/image/' + ${ flat.mainPhotoId}}" class="w-100">



                                    </div>

                                    <div class="col-md-8 px-3">
                                        <div class="card-block px-3">
                                            <h4 class="card-title" th:text="${flat.street}"></h4>
                                            <p class="card-text" th:text="${flat.street}"></p>
                                            <p class="card-text" th:text="${flat.descriptionShort}"></p>

                                            <p class="card-text" th:text="${flat.priceDay}"></p>
                                            <a th:href="@{'/flats/' + ${flat.id}}" class="btn btn-primary">Узнать больше</a>
                                            <!--TODO    add cheking auth -->
                                            <!--<div sec:authorize="hasAuthority('ROLE_ADMIN')">-->
                                            <div th:if="${#request.isUserInRole('ROLE_ADMIN')}">
                                                <a th:href="@{'/flats/' + ${flat.id}}" th:method="delete"
                                                   class="btn btn-danger">Удалить</a>
                                                <a th:href="@{'/flats/' + ${flat.id}}" th:method="update"
                                                   class="btn btn-warning">Подтвердить</a>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </section>


                    <!--<div th:if="(${rowStat.count} + 1) % 3 == 0" class="w-100 d-lg-none mt-4"></div>-->
                    <!--<div th:if="(${rowStat.count} + 1) % 3 == 0" class="w-100 d-lg-none mt-4"></div>-->
                </th:block>


    <!--</div>-->




</div>


<!-- Bootstrap core JavaScript
================================================== -->

<!--///////////////////////////////////////////////////////////////////////////////////////////-->
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="../../assets/js/vendor/popper.min.js"></script>
<!--<script src="../../dist/js/bootstrap.min.js"></script>-->
<script src="/js/bootstrap.min.js"></script>


</body>
</html>